var compile=function(e){'use strict';function n(e,n){return{severity:e,message:n}}function t(e,n){return~e.indexOf(n)}function a(e){return void 0===e||null===e}function s(e){return e}function o(){return"_"+(de++).toString(36)}function i(){de=0}function d(){}function l(e,n){void 0===n&&(n=!0);var t,a=e.protocol;if("file:"===a){if(re){if("function"!=typeof require)throw"Please expose 'require' function into the global scope in order to use include statment";var s=require("fs");if(n){var o=s.statSync(e).mtimeMs,i=me[String(e)]||{},d=i.mtime;return o===d?i.code:(t=s.readFileSync(e,"utf-8"),me[String(e)]={mtime:o,code:t},t)}return s.readFileSync(e,"utf-8")}throw"Cannot access file:// urls in non-node env"}else{if("http:"===a||"https:"===a){if("undefined"==typeof fetch)if(re)global.fetch=require("node-fetch")["default"];else throw"Fetching web resource with no fetch function attached to global in web env!";return fetch(String(e)).then(function(n){if(!n.ok)throw"Something went wrong while fetching "+e+"!";return n.text()})}throw"Unsupported protocol '"+a+"'!"}}function m(e){var n=0;return{next:e[0],move:function(t){return t=e[n++],this.next=e[n],t},down:function(){return this.next=e[--n]}}}function r(e,n){for(var t,s=e;!a(t=n.next)&&ce.test(t);)s+=n.move();if(!fe.test(s)||!s)throw s+" is not a valid number!";return[/[\-\+]?\d+\.\.[\-\+]?\d+/.test(s)?9:1,s]}function p(e,n){for(var t="",s="";n.next!==e||s+n.next==="\\"+e;){if(s=n.move(),a(s))throw"Unexcepted EOF";t+=s}return n.move(),t}function y(e,n){for(var t,s=e;!a(t=n.next)&&ke.test(t);)s+=n.move();if(!ue.test(s))throw s+" is not a valid symbol!";return[~ye.indexOf(s)?8:2,s]}function u(e,n){for(var t,s=e;!a(t=n.next)&&ve.test(t);)s+=n.move();return s}function c(e){for(var n,t="",s="";"`"!==(n=e.next);){if(a(n))throw"Invalid regular expression: missing `";t+=e.move()}for(e.move();!~s.indexOf(n=e.next)&&n.trim()&&";"!==n&&!ve.test(n);){if(!_e.test(n))throw"Invalid regular expression flag: '"+n+"'";if(~s.indexOf(n))throw"Duplicated regular expression flag: '"+n+"'";s+=e.move()}return[5,t,s]}function f(e,n){for(var t=n||"";e.next&&"\n"!==e.next;)t+=e.move();return e.move(),t+"\n"}function b(e,n){for(var t=n,a=0;"*/"!==t[a]+e.next;)t+=e.move(),a++;return e.move(),t.slice(0,-1)}function h(e,n,t){if(ve.test(n))e.push([6,u(n,t)]);else if(be.test(n))e.push([4,n]);else if(he.test(n)||"."===n)L=t.move(),W=n+L,("-"===n||"+"===n)&&/^[\d\.]$/m.test(L)?h(e,W,t):~we.indexOf(W)?(Q=t.move(),X=W+Q,~Ne.indexOf(X)?(V=t.move(),Z=X+V,">>>="===Z?(e.push([3,Z]),h(e,t.move(),t)):(e.push([3,X]),h(e,V,t))):"//"===W?e.push([7,f(t,Q)]):"/*"===W?e.push([10,b(t,Q)]):(e.push([3,W]),h(e,Q,t))):(e.push([3,n]),h(e,L,t));else if(ve.test(n))e.push([6,u(n,t)]);else if(be.test(n))e.push([4,n]);else if(ge.test(n))e.push(c(t));else if(xe.test(n))e.push([0,p(n,t)]);else if(/[0-9\-\+]/.test(n))e.push(r(n,t));else if(ue.test(n))e.push(y(n,t));else throw"Unrecognised character: \""+n+"\"!"}function g(e){for(var n=[],t=m(e);!a(t.next);)h(n,t.move(),t);return n}function x(e,n,a,s){for(var o=[{kind:0,body:e}];3===n[0]&&t([".","?.","!.","![","?.[","["],n[1]);){if("."===n[1])n=O(a,"symbol"),2!==n[0]&&8!==n[0]&&I(n),o.push({kind:1,body:{name:75,type:1,symbolName:n[1]}});else if("["===n[1]){var i=j(O(a,Fe),a,s);le(i)?(n=a.next,i=i[0]):n=O(a,"]"),(3!==n[0]||"]"!==n[1])&&I(n),o.push({kind:2,body:i})}else if("?."===n[1])n=O(a,"symbol"),2!==n[0]&&8!==n[0]&&I(n),o.push({kind:3,body:{name:75,type:1,symbolName:n[1]}});else if("?.["===n[1]){var i=j(O(a,Fe),a,s);le(i)?(n=a.next,i=i[0]):n=O(a,"]"),(3!==n[0]||"]"!==n[1])&&I(n),o.push({kind:4,body:i})}else if("!."===n[1])n=O(a,"symbol"),2!==n[0]&&8!==n[0]&&I(n),ne.na=!0,o.push({kind:5,body:{name:75,type:1,symbolName:n[1]}});else if("!["===n[1]){var i=j(O(a,Fe),a,s);le(i)?(n=a.next,i=i[0]):n=O(a,"]"),(3!==n[0]||"]"!==n[1])&&I(n),ne.na=!0,o.push({kind:6,body:i})}else break;n=O(a,"any")}return w(a),A({name:43,type:1,body:o},a,s)}function v(e){return!le(e)&&"object"==typeof e&&!a(e)}function w(e){for(;~[6,10,7].indexOf(e.down()[0]););}function N(e,n,t){e.move();var a=e.next;if(!a)throw((t||"")+" Unexcepted EOF - '"+n+"' excepted").trim();return a}function k(e,n,t,a){return 6===e[0]?N(n,t,a):e}function O(e,n,t){for(var a,s;10===(a=k(N(e,n,t),e,n,t))[0]||7===a[0];)s=/\s*internal\:\s*(.+)/.exec(a[1]),s&&Function(s[1])();return a}function S(e,n){return le(n)?(e.body=n,e=[e]):e.body=[n],e}function E(e,n,t,a){var s,o,i=Oe[n[1]];if(i)return s=A(O(t,Fe),t,a),o={name:i,type:1,body:[e,s],symbolName:n[1]},29===i?("string"==typeof s.symbolName&&le(s.body)&&(o.body[1]=s.body[0],s.body[0]=o),s):o}function F(e,t,a,s){var o,i;if(d=Se[t[1]]){if(43===e.name)for(var d,l,m,r,p=e.body,y=p.length,u=0;u<y;u++)r=p[u],(3===r.kind||4===r.kind)&&je.push(n(2,"The left-hand side of an assignment expression may not be an optional property access."));return l=A(O(a,Fe),a,s),m={name:d,type:1,body:[e,l],symbolName:t[1]},43===e.name||~s.outer.locals.indexOf(e.symbolName)||~(null!==(i=null===(o=s.outer.nonlocals)||void 0===o?void 0:o.indexOf(e.symbolName))&&void 0!==i?i:-1)||s.outer.locals.push(e.symbolName),m}}function A(e,n,t){var a=j(e,n,t);return t.insideExpression=!1,a}function j(e,n,a){var s,o;if(8===e[0]&&!t(Ae,e[1]))return Ee[e[1]](n,a);if(1===e[0]){var i=e[1];return{name:51,type:1,body:i}}if(9===e[0]){var d=e[1].split("..");return{name:60,type:1,body:d.map(function(e){return{name:53,type:1,body:e}})}}if(0===e[0])return{name:53,type:1,body:e[1]};if(v(e)||B(e)){a.insideExpression=!0;var l,m;if(m=v(e)?e:8===e[0]?Ee[e[1]](n):{name:54,type:1,symbolName:e[1]},e=O(n,Fe),8===e[0]&&"with"===e[1])return[m];if(3!==e[0]&&4!==e[0]&&0!==e[0]&&I(e),0===e[0])return{name:41,type:1,body:[m],args:[{name:53,type:1,body:e[1]}]};switch(e[1]){case"{":case")":case"}":case"]":case",":case";":return[m];case"(":case"?.(":var r=U(O(n,")","Call expression:"),n,a);return C(r),o={name:"("===e[1]?41:42,type:1,body:[m],args:r},A(o,n,a);case".":case"[":case"!.":case"![":case"?.":case"?.[":return x(m,e,n,a);case"=>":if(54!==m.name)throw pe("Arrow functions shortcut cannot contain non-symbol parameter");o={name:0,type:1,params:[{name:m.symbolName,type:0}],locals:[],nonlocals:[]};var p={outer:o,filename:a.filename};return e=O(n,Fe),4!==e[0]&&"{"!==e[1]?S(o,S({name:64,type:0},A(e,n,p))):(o.body=$(n,p),o);case"::":s="Argument binding expression: ",e=O(n,"(",s),(4!==e[0]||"("!==e[1])&&I(e),e=O(n,")",s);var r=U(e,n,a);return{name:79,type:1,body:[m],args:r};case"!":return o=A({name:85,type:1,body:[m]},n,a),ne.na=!0,o;default:l=E(m,e,n,a)||F(m,e,n,a);var y=l&&l.body;return y&&l.symbolName&&le(y[1])&&(y[1]=y[1][0],l=[l]),l||m;}}else if(7===e[0]||10===e[0]||6===e[0]);else if(4===e[0]&&~[";",")","}",","].indexOf(e[1]));else if(4===e[0]){if("{"===e[1])return{name:82,type:0,body:$(n,a)};}else if(3===e[0])switch(a.insideExpression=!0,e[1]){case"[":o={name:77,type:1,body:[]};for(var u=o.body;;){if(e=O(n,Fe),4===e[0]&&","===e[1]){u.push({name:48,type:1});continue}else if(3===e[0]&&"]"===e[1])break;if(l=A(e,n,a),le(l)?(e=n.next,l=l[0]):e=O(n,"]\" or \","),(4!==e[0]||","!==e[1])&&(3!==e[0]||"]"!==e[1])&&I(e),u.push(l),"]"===e[1])break}return l=j(o,n,a),l;}return J}function B(e){return 2===e[0]||8===e[0]&&t(Ae,e[1])}function C(e){for(var n=e.length;n&&48===e[--n].name;)e.pop()}function I(e,n){throw void 0===n&&(n=""),pe("Unexcepted token '"+e[1]+"'"+n)}function U(e,n,t){var a,s=[];if(4!==e[0]||")"!==e[1])for(;4!==e[0]||")"!==e[1];){if(4===e[0]&&","===e[1]){s.push({name:48,type:1}),e=O(n,Fe);continue}else a=A(e,n,t);if(le(a)?(e=n.next,a=a[0]):e=O(n,")"),s.push(a),4!==e[0])I(e);else if(")"===e[1])break;else","!==e[1]&&I(e);e=O(n,Fe)}return s}function $(e,t){for(var a=O(e,"}"),s=[];4!==a[0]||"}"!==a[1];)try{var o=A(a,e,t);if(!le(o))o&&s.push(o),a=O(e,"}");else if(o[0]&&s.push(o[0]),a=e.next,4===a[0]&&"}"===a[1])break}catch(t){if(1===t)break;else if(0===t)break;else je.push(n(3,String(t))),a=O(e,"}")}return s}function M(e,n){return A(O(e,Fe),e,n)}function P(e,n,t){i(),Ce=t;var a=m(e);ee={name:2,type:1,params:[{name:"u",type:3}],locals:[]},ne={},ee.body=G(a,n,ee);var s={diagnostics:je,output:ee,__used:ne};return Be.length?Promise.all(Be).then(function(){return s}):s}function G(e,t,s){for(var o,i=[];!a(o=e.next);){try{var d=A(o,e,{outer:s,filename:t});d&&i.push(le(d)?d[0]:d)}catch(e){je.push(n(e&&"string"!=typeof e&&!(e instanceof pe)?4:3,e))}e.move()}return i}function D(e,t,a){if(e+="",t+="",0>=t.length)return e.length+1;for(var s=0,o=0,i=a?1:t.length;0<=(o=e.indexOf(t,o));)++s,o+=i;return s}function T(e){var n,t;return 1===e.type?e:{name:41,type:1,body:[{name:null!==(t=null===(n=e.outerBody)||void 0===n?void 0:n.name)&&void 0!==t?t:0,type:1,body:[e]}],args:[]}}function Y(e){return t([0,2,1,3,59,81,82],e.name)}function q(e){return t([77,79,2,3,52,41,43,46,45,50,49,47,51,60,53,54,75,48,80],e.name)}function K(n,t){function a(){Ie&&(C+=" ")}function i(){Ie&&(C+="\n")}function l(){Ie&&(C+=t.sp)}function m(){t.sp=t.sp.slice(0,-4)}function r(){t.sp+="    "}function p(e){(te.params||(te.params=[])).push({name:e,type:3})}function y(){var e,n=C,t=2===j||3===j;return C="",r(),t&&r(),u(),t&&m(),m(),e=[n,C],C=e[0],n=e[1],n}function u(){k=0,N=O.length;for(var e=0;k<N;k++)76!==O[k].name&&(e++,l(),C+=K(O[k],t),(k+1<N||Ie)&&!Y(O[k])&&(C+=";"),i());e||a()}function c(e){function n(){Ie&&(y+=" ")}for(var a=0,s=e.length,i="";a<s;a++){var d=e[a],l=d.body,m=d.kind;if(0===m)i+=K(l,t);else if(1===m)i+="."+K(l,t);else if(2===m)i+="["+K(l,t)+"]";else{if(3===m||4===m){var r=o(),y="(n("+r;return p(r),n(),y+="=",n(),y+=i+")",n(),y+="?",n(),y+="u",n(),y+=":",n(),e.splice(0,a,{kind:0,body:{name:75,type:1,symbolName:r}}),e[1].kind=3===m?1:2,""+y+c(e)+")"}return e.splice(0,a,{kind:0,body:{name:75,type:1,symbolName:"__na("+i+")"}}),e[1].kind=5===m?1:2,c(e)}}return i}function f(){a(),C+="__call([].slice,",a(),C+="arguments",(k||1!==N)&&(C+=",",a(),C+=-(N-k)),C+=")[0]"}var b,h,g,x,v,w,N,k,O,S,E,F,A,j,B,C="";switch(null!==t&&void 0!==t?t:t={},null!==(b=t.sp)&&void 0!==b?b:t.sp="",O=n.body,j=n.name){case 80:C+="arguments";case 76:break;case 59:for(var I,U=0,$=O.length;U<$;U++)I=O[U],C+=K(I,t),Ie&&!Y(O[U])&&(C+=";"),U<$-1&&(i(),l());break;case 3:case 1:case 2:case 0:C+="function",1===j&&(C+="*"),n.symbolName?C+=" $"+n.symbolName:a(),C+="(";var M=y();v=n.params||(n.params=[]),N=v.length,k=0;for(var P=0<O.length||v.some(function(e){return!!e["default"]||1===e.type});k<N;k++){var G=v[k],R=G.name;if(1===G.type)break;if("string"==typeof R)C+=G.name=A=""+(3===G.type?"":"$")+(R||o());else throw"Destructing parameters are not supported yet";k+1<N&&1!==v[k+1].type&&(C+=",",a())}C+=")",a(),C+="{",r(),P&&i(),n.locals&&n.locals.length&&(l(),C+="var "+n.locals.map(function(e){return"$"+e}).join(","+(Ie?" ":""))+";",i()),(2===j||3===j)&&(!P&&i(),l(),r(),C+="return __async"+(3===j?"_gen":"")+"(function*",a(),C+="()",a(),C+="{",P&&i()),k=0,A="";for(var z,H=!1;k<N;k++){if(z=v[k],R=z.name,H)if("string"==typeof R){if(l(),C+=z.name=A=""+(3===z.type?"":"$")+(R||o()),z["default"]){var L=o();p(L),a(),C+="=",a(),C+="__nl("+L,a(),C+="=",f(),C+=")",a(),C+="?",a(),C+=K(z["default"],t),a(),C+=":",C+=L+")"}else a(),C+="=",f();C+=k+1<N?",":";",i()}else throw"Destructing parameters are not supported yet";1===z.type&&(H=!0,l(),C+="var $"+(R||o()),a(),C+="=",a(),C+="__call([].slice,",a(),C+="arguments",(k||1!==N)&&(C+=",",a(),C+=k,k+1<N&&(C+=",",a(),C+=-(N-k-1))),C+=")"+(k+1<N?",":";"),i(),H=!0),z["default"]&&!H&&(l(),C+=A||(A="string"==typeof z.name?z.name:K(z.name,t)),a(),C+="===",a(),C+="u",a(),C+="&&",a(),C+="("+A,a(),C+="=",a(),C+=K(T(z["default"]),t)+");",i())}C+=M,m(),(2===j||3===j)&&(P&&l(),C+="},",a(),C+="this,",a(),C+="arguments)",Ie&&(C+=";"),i(),m(),!P&&l()),P&&l(),C+="}";break;case 46:C+=Ie?"false":"!1";break;case 45:C+=Ie?"true":"!0";break;case 48:C+="u";break;case 47:C+="null";break;case 49:C+="0/0";break;case 50:C+=Ie?"Infinity":"1/0";break;case 54:C+="$"+n.symbolName;break;case 75:C+=n.symbolName;break;case 51:C+=O;break;case 5:C+="__throw("+K(O[0],t)+")";break;case 53:S=D(O,"'")>=D(O,"\""),E=S?"\"":"'",F=S?"'":"\"",C+=""+E+O.replace("\\"+F,F).replace("\n","\\n")+E;break;case 55:A=o(),C+=K({name:41,type:1,body:[{name:null!==(g=null===(h=n.outerBody)||void 0===h?void 0:h.name)&&void 0!==g?g:0,type:1,params:[{name:A,type:0}],body:[{name:64,type:0,body:[O[0]]}]}],args:[O[1]]},Ie);break;case 41:for(C+=K(O[0],t),C+="(",w=n.args,N=w.length,k=0;k<N;k++){var Q=w[k];C+=K(Q,t),k+1<N&&(C+=",",a())}C+=")";break;case 6:for(C+="(",N=O.length,k=0;k<N;k++){var V=O[k];C+=K(V,t),k+1<N&&(C+=",",a())}C+=")";break;case 64:C+="return "+K(T(O[0]),t);break;case 60:var W=+O[0].body,s=+O[1].body;C+=W==s?"(function*(){})()":"(function*(){for(var i="+W+",e="+s+";i"+(W>s?">":"<")+"e;i"+(W>s?"--":"++")+")yield i})()";break;case 73:C+=O;break;case 13:C+=K(O[0],t),a(),C+="=",a();case 29:C+="Math.pow("+K(O[0],t)+",",a(),C+=K(O[1],t)+")";break;case 7:C+=K(O[0],t),a(),C+="=",a(),C+=K(T(O[1]),t);break;case 8:case 9:case 10:case 11:case 12:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 65:case 66:case 67:case 68:case 69:case 70:C+=K(O[0],t),a(),C+=n.symbolName,a(),C+=K(T(O[1]),t);break;case 44:C+="if",a(),C+="(",C+=K(T(n.args),t),C+=")",a(),C+="{";var e=O.length;e&&i(),r(),u(),m(),e&&l(),C+="}",(n["else"]||n.elseif)&&(a(),C+="else",n.elseif?C+=" "+K(n.elseif,t):(a(),C+="{",e=(O=n["else"].body).length,e&&i(),r(),u(),m(),e&&l(),C+="}"));break;case 71:C+="yield",(B=3===n.outerBody.name)?(a(),C+="[1,",a()):C+=" ",C+=K(T(O[0]),t),B&&(C+="]");break;case 72:C+="yield*",(B=3===n.outerBody.name)&&(a(),C+="[2,"),a(),C+=K(T(O[0]),t),B&&(C+="]");break;case 74:C+="yield",(B=3===n.outerBody.name)?(a(),C+="[0,",a()):C+=" ",C+=K(T(O[0]),t),B&&(C+="]");break;case 43:C+=c(O);break;case 77:C+="["+O.map(function(e){return K(T(e),t)}).join(","+(Ie?" ":""))+"]";break;case 79:C+="__bind("+K(O[0],t)+",",a(),C+="u,",a(),C+=n.args.map(function(e){return K(T(e),t)}).join(","+(Ie?" ":""))+")";break;case 57:B=K(O[0],t),C+="!"+(q(O[0])?B:"("+T(B)+")");break;case 81:w=n.args,e=O.length;var X=w.map(function(e,n){var s=o();return p(s),n&&l(),C+=s,a(),C+="=",a(),C+=K(e,t)+";",i(),s});u(),Ie||(C+=";"),N=w.length;for(var k=0;k<N;k++){k&&i(),l();var Z=X[k];C+=K(w[k],t),a(),C+="=",a(),C+=Z+";"}break;case 82:C+="{",O.length&&i(),r(),u(),m(),O.length&&l(),C+="}",i();break;case 85:C+="__na("+K(T(O[0]),t)+")";break;case 83:C+="new "+K(T(O[0]),t);break;case J:{var ee=t.sp+"    ";C+="/*\n"+ee+"Cannot emit undefined, has something gone wrong?"+("\n"+ee+"Stack trace:\n"+(ee+(null===(x=Error().stack)||void 0===x?void 0:x.replace(/\n/g,"\n"+ee)))+"\n"+t.sp+"*/");break}case 84:console.log(n);default:C+="/*cannot emit node Nodes["+j+"]*/";}return d(C.toString()),C}function R(e,n){var t=void 0===n?{}:n,a=t.pretty,s=t.url,o=void 0===s?"":s;return Ie=void 0!==a&&a,K(te=e,{url:o})}function z(e,n){return"(function(){var _=function(){},p=Promise,c=_.call,__bind=c.bind(_.bind),pr=__bind(p.resolve,p),__call=__bind(c,c),__apply=__bind(c,_.apply);function n(v){return v===null||v===void 0};function __async(f,t,a){return new p(function(r){var g=__apply(f,t,a),n=g.next;_();function _(p){var v=__call(n,g,p);v.done?r(v.value):pr(v.value).then(function(v){_(v)})}})};"+(n.contains?"function __contains(i,v){for(var _=i[Symbol.iterator](),n=__bind(_.next,_),t;!(t=n()).done;)if((t=t.value)===v||v!==v&&j!==t)return!0;return!1};":"")+(n.na?"function __na(v){if(n(v))throw TypeError(\"Null assertion\");return v};":"")+("return("+e+")()})()")}function H(e,t){function a(e){var a={diagnostics:e.diagnostics,output:"/*#EMPTY"+Math.random()+"*/"};try{a.output=z(R(e.output,t),e.__used)}catch(e){a.diagnostics.push(n(4,e))}return a}var s,o=P(g(e),t.url,null===(s=t.cache)||void 0===s||s);return o instanceof Promise?o.then(a):a(o)}var J,L,Q,V,W,X,Z,ee,ne,te,ae=a.call,se=ae.bind(a.bind),oe=se(ae,ae),ie=se(ae,a.apply),de=0,le=Array.isArray||function(e){return e instanceof Array},me={},re="object"==typeof process&&"[object process]"==={}.toString.call(process),pe=SyntaxError,ye=s("do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof|include|fn|async|await|undefined|not|contains|__external|__external_var|nonlocal|keep").split("|"),ue=/^[$\w_][\d\w$_]*$/m,ce=/[0-9.\-\+]/,fe=/^(?:[\-\+]?[0-9][_0-9]*)?(?:\.(\.[\-\+]?)?[0-9_]+)?$/m,be=/[(){};,]/m,he=/^[<>\/*+\-?|&\^!%\.@:=\[\]~#]$/m,ge=/^`$/m,xe=/^'|"$/m,_e=/^[gmiyus]$/m,ve=/\s/,we=["&&","**","||","??","==","!=","=>","<=",">=","..","+=","/=","&=","-=","++","--","*=","|=","//",">>","<<","?.","%=","^=","|>","@@","/*","::","!.","!["],Ne=["?.[","?.(","??=","||=","&&=","**=",">>>","...",">>=","<<=","===","!=="],ke=/^[^\s<>\/*+\-?|&\^!%\.@:=\[\]~(){};,"'#]$/m,Oe={"+":24,"-":25,"*":26,"/":27,"%":28,"**":29,"&":30,"^":32,"|":33,"??":34,"&&":35,"||":37,"<<":38,">>":39,">>>":40,"::":79,">":70,">=":68,"<":69,"<=":67,"==":65,"===":66},Se={"=":7,"+=":8,"-=":9,"*=":10,"/=":11,"%=":12,"**=":13,"&=":14,"^=":15,"|=":16,"??=":17,"&&=":18,"||=":19,"<<=":21,">>=":22,">>>=":23},Ee={nonlocal:function(e,n){if(!n.outer.nonlocals)throw"Nonlocal statment: this statment cannot be used in top-level scope!";var t=O(e,"symbol");return 2!==t[0]&&I(t),n.outer.nonlocals.push(t[1]),n.outer.locals=n.outer.locals.filter(function(e){return e!==t[1]}),{name:76,type:1}},include:function(e,n){function t(e){var t=G(m(g(e)),o.href,n.outer);return d.body=t,t}var a=O(e,"string");0!==a[0]&&I(a);var s=O(e,";");if(4!==s[0]||";"!==s[1])throw"Include statment must be follewed by a semicolon!";var o=new URL(a[1],n.filename),i=l(o,Ce),d={name:59,type:1};return d.body="string"==typeof i?t(i):Be[Be.push(i.then(t))-1],d},if:function(e,n){var t=O(e,"(");(4!==t[0]||"("!==t[1])&&I(t);var a,s=A(t=O(e,Fe),e,n);le(s)?t=e.next:(t=O(e,")"),s=[s]),(4!==t[0]||")"!==t[1])&&I(t),t=O(e,"{"),a=4===t[0]&&"{"===t[1]?$(e,n):[A(t,e,n)];var o={name:44,type:0,body:a,args:s[0],else:J,elseif:J};try{t=O(e,"else")}catch(e){return o}if(8===t[0]&&"else"===t[1]){if(t=O(e,"if"),8===t[0]&&"if"===t[1]){var i=Ee["if"](e,n);return le(i)?(o.elseif=i[0],[o]):(o.elseif=i,o)}if(4===t[0]&&"{"===t[1])return o["else"]={name:78,type:0,body:$(e,n)},o;I(t)}else return[o]},true:function(){return{name:45,type:1}},false:function(){return{name:46,type:1}},undefined:function(){return{name:48,type:1}},null:function(){return{name:47,type:1}},NaN:function(){return{name:49,type:1}},Infinity:function(){return{name:50,type:1}},arguments:function(){return{name:80,type:1}},interface:function(e){var n=s("Interface statment:"),t=O(e,"symbol",n);2!==t[0]&&I(t),t=O(e,"{",n),(4!==t[0]||"{"!==t[1])&&I(t),I([8,"interface"])},import:function(e){I(e.next)},async:function(e,n){var t=O(e,"fn","Async(Generator?)Function statment:");return(8!==t[0]||"fn"!==t[1])&&I(t),Ee.fn(e,{filename:n.filename,outer:null},2)},not:function(e,n){return S({name:57,type:1},A(O(e,Fe),e,n))},__external_var:function(e){var n="External variable "+Fe+":",t=O(e,"(",n);(4!==t[0]||"("!==t[1])&&I(t),t=O(e,"string",n),0!==t[0]&&I(t);var a=t[1];return t=O(e,")",n),(4!==t[0]||")"!==t[1])&&I(t),{name:73,type:1,body:a}},__external:function(e){var n=s("External statment:"),t=O(e,"(",n);(4!==t[0]||"("!==t[1])&&I(t),t=O(e,"string",n),0!==t[0]&&I(t);var a=t[1];return t=O(e,")",n),(4!==t[0]||")"!==t[1])&&I(t),{name:73,type:0,body:a}},fn:function(e,n,t){void 0===t&&(t=0);var a=s("Function statment:"),o=[a,"Generator"+a,"Async"+a];o[3]="Async"+o[1];var i,d,l=o[t],m="",r=[],p=O(e,"symbol\" | \"(",l),y=!1;if(3===p[0]&&"*"===p[1])0===t?t=1:2==t&&(t=3),p=O(e,"symbol",l);else if(1===t||3===t)throw l+" Unexcepted token '"+p[1]+"' ('*' excepted)";2===p[0]&&(m=p[1],p=O(e,"(",l)),4!==p[0]&&"("!==p[1]&&I(p);for(var u={name:t,type:1,params:r,symbolName:m,locals:[],nonlocals:[]},c={outer:u,filename:n.filename};;){if(i=0,p=O(e,"symbol",l),4===p[0]&&","===p[1]){r.push({name:"",type:2});continue}if(3===p[0]&&"..."===p[1]){if(y)throw pe("Cannot append second rest parameter to "+(m?"function "+m:"anonymous function"));y=!0,i=1,p=O(e,"symbol",l)}if(2===p[0]){var f={name:p[1],type:i};if(r.push(f),p=O(e,",",l),3===p[0]&&"="===p[1]){var b=A(O(e,Fe,l),e,c);le(b)?(b=b[0],p=e.next):p=O(e,Fe,l),f["default"]=b}if(4===p[0]&&")"===p[1])break;else 4!==p[0]&&","!==p[1]&&I(p)}else if(4===p[0]&&","===p[1])r.push({name:"",type:i||2});else if(4===p[0]&&")"===p[1])break;else I(p)}for(d=r.length;d&&2===r[--d].type;)r.pop();return(p=O(e,"{",l),3===p[0]&&"=>"===p[1]&&(p=O(e,Fe,l),4!==p[0]&&"{"!==p[1]))?S(u,S({name:64,type:0},A(p,e,c))):(4!==p[0]&&"{"!==p[1]&&I(p),u.body=$(e,c),u)},class:function(e,a){var i=a.insideExpression?1:0,d={name:84,type:i,getters:[],settets:[],props:[],methods:[],privateGetters:[],privateSettets:[],privateMethods:[],privateProps:[],mixins:[]},l=s("Class expression:"),m=O(e,"{\" | \"symbol\" | \"extends",l);if(2===m[0]&&(d.symbolName=m[1],m=O(e,Fe,l)),8===m[0]&&"extends"===m[1]){var r=A(O(e,Fe,l),e,a);if(le(r)?(d["extends"]=r[0],m=e.next):(d["extends"]=r,m=O(e,"any",l)),8===m[0]&&"with"===m[1])for(;4!==m[0]||"{"!==m[1];){var p=A(O(e,Fe,l),e,a);le(p)?(p=p[0],m=e.next):m=O(e,"any",l),(4!==m[0]||","!==m[1]&&"{"!==m[1])&&I(m),d.mixins.push(p)}}if(i||d.symbolName||(je.push(n(1,"Class statment doesn't have a name - a random name will be given during compilation")),d.symbolName=o()),4===m[0]&&"{"===m[1]){for(;"}"!==(m=O(e,"keyword\" | \"symbol\" | \"string",l))[1]&&4!==m[0];)if([2,0,8].indexOf(m[0])){var y=O(e,"=\" | \"symbol\" | \"(",l);if(8===m[0]&&2===y[0]&&t(["get","set","async"],m[1]));}}else I(m);return d},return:function(e,n){return S({name:64,type:0},A(O(e,Fe,"Return statment:"),e,n))},yield:function(e,n){var t=O(e,Fe,"Yield expression:"),a=3===t[0]&&"*"===t[1],s=a?M(e,n):A(t,e,n);return S({name:a?72:71,type:1,outerBody:n.outer},s)},await:function(e,t){0===t.outer.name&&je.push(n(2,"Using await inside Sync Function Expression will fail at runtime")),1===t.outer.name&&je.push(n(1,"Await is not intended to be used inside Generator Functions"));var a=s("Await expression:"),o=O(e,Fe,a);if(3!==o[0]||"."!==o[1])i=A(o,e,t);else if(o=O(e,"any\" | \"all\" | \"allSettled\" | \"race",a),2===o[0]&&/^(any|all(Settled)?|race)$/m.test(o[1])){var i=A(O(e,Fe,a),e,t),d={name:41,type:1,body:[{name:75,type:1,symbolName:"p."+o[1]}],args:[i]};le(i)?(d.args[0]=i[0],i=[d]):i=d}else I(o);return S({name:74,type:1,outerBody:t.outer},i)},this:function(){return{name:75,type:1,symbolName:"this"}},keep:function(e,n){var t=s("Keep statment:"),a=O(e,"(",t),o=[];if(4!==a[0]&&"("!==a[1]&&I(a),a=O(e,"symbol",t),4===a[0]||")"!==a[1])for(;4!==a[0]||")"!==a[1];){if(4===a[0]&&","===a[1]){a=O(e,Fe);continue}else var i=A(a,e,n);if(le(i)?(a=e.next,i=i[0]):a=O(e,")"),!~[43,80,54,75].indexOf(i.name));if(o.push(i),4!==a[0])I(a);else if(")"===a[1])break;else","!==a[1]&&I(a);a=O(e,"symbol")}a=O(e,"{"),4!==a[0]&&"{"!==a[1]&&I(a);var d=$(e,n);return{name:81,type:0,body:d,args:o}},new:function(e,n){var t,a=j(O(e,Fe),e,n);(t=le(a))&&(a=a[0]);for(var s={name:83,type:1,body:[a]},o=a.body,i=[],d=a;1===d.type&&le(o);)d=o[0].name?o[0]:o[0].body,i.push(d),o=d.body;for(var l,m=0,r=i.reverse().length;m<r;m++)if(l=i[m],41===l.name){var p=i[m+1]||a;return s.body[0]=l,p.body[0]=43===p.name?{body:s,kind:0}:s,a}return t?[s]:s}},Fe=s("expression"),Ae=["__external_var","this","arguments","null","NaN","undefined","Infinity","true","false"],je=[],Be=[],Ce=!0,Ie=!0;return e._emit=K,e.compileCode=H,e.default=function(e,n){var t=l("string"==typeof e?new URL(e):e);return n||(n={}),n.url||(n.url=e.toString()),"string"==typeof t?H(t,n):t.then(function(e){return H(e,n)})},e.emit=R,e.lex=g,e.parse=P,e.wrap=z,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
