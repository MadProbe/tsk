var compile=function(e){'use strict';function n(e,n){return{severity:e,message:n}}function t(e,n){return~e.indexOf(n)}function a(e){return void 0===e||null===e}function s(e){return e}function o(){return"_"+(me++).toString(36)}function i(){me=0}function l(){}function m(e,n){void 0===n&&(n=!0);var t,a=e.protocol;if("file:"===a){if(pe){if("function"!=typeof require)throw"Please expose 'require' function into the global scope in order to use include statment";var s=require("fs");if(n){var o=s.statSync(e).mtimeMs,i=de[String(e)]||{},l=i.mtime;return o===l?i.code:(t=s.readFileSync(e,"utf-8"),de[String(e)]={mtime:o,code:t},t)}return s.readFileSync(e,"utf-8")}throw"Cannot access file:// urls in non-node env"}else{if("http:"===a||"https:"===a){if("undefined"==typeof fetch)if(pe)global.fetch=require("node-fetch")["default"];else throw"Fetching web resource with no fetch function attached to global in web env!";return fetch(String(e)).then(function(n){if(!n.ok)throw"Something went wrong while fetching "+e+"!";return n.text()})}throw"Unsupported protocol '"+a+"'!"}}function r(e){var n=0;return{next:e[0],move:function(t){return t=e[n++],this.next=e[n],t},down:function(){return this.next=e[--n]}}}function d(e,n){for(var t,s=e;!a(t=n.next)&&be.test(t);)s+=n.move();if(!fe.test(s)||!s)throw s+" is not a valid number!";return[/[\-\+]?\d+\.\.[\-\+]?\d+/.test(s)?9:1,s]}function p(e,n){for(var t="",s="";n.next!==e||s+n.next==="\\"+e;){if(s=n.move(),a(s))throw"Unexcepted EOF";t+=s}return n.move(),t}function u(e,n){for(var t,s=e;!a(t=n.next)&&Oe.test(t);)s+=n.move();if(!ce.test(s))throw s+" is not a valid symbol!";return[~ye.indexOf(s)?8:2,s]}function y(e,n){for(var t,s=e;!a(t=n.next)&&we.test(t);)s+=n.move();return s}function c(e){for(var n,t="",s="";"`"!==(n=e.next);){if(a(n))throw"Invalid regular expression: missing `";t+=e.move()}for(e.move();!~s.indexOf(n=e.next)&&n.trim()&&";"!==n&&!we.test(n);){if(!_e.test(n))throw"Invalid regular expression flag: '"+n+"'";if(~s.indexOf(n))throw"Duplicated regular expression flag: '"+n+"'";s+=e.move()}return[5,t,s]}function b(e,n){for(var t=n||"";e.next&&"\n"!==e.next;)t+=e.move();return e.move(),t+"\n"}function f(e,n){for(var t=n,a=0;"*/"!==t[a]+e.next;)t+=e.move(),a++;return e.move(),t.slice(0,-1)}function h(e,n,t){if(we.test(n))e.push([6,y(n,t)]);else if(he.test(n))e.push([4,n]);else if(ge.test(n)||"."===n)Q=t.move(),X=n+Q,("-"===n||"+"===n)&&/^[\d\.]$/m.test(Q)?h(e,X,t):~Ne.indexOf(X)?(V=t.move(),Z=X+V,~ke.indexOf(Z)?(W=t.move(),ee=Z+W,">>>="===ee?(e.push([3,ee]),h(e,t.move(),t)):(e.push([3,Z]),h(e,W,t))):"//"===X?e.push([7,b(t,V)]):"/*"===X?e.push([10,f(t,V)]):(e.push([3,X]),h(e,V,t))):(e.push([3,n]),h(e,Q,t));else if(we.test(n))e.push([6,y(n,t)]);else if(he.test(n))e.push([4,n]);else if(xe.test(n))e.push(c(t));else if(ve.test(n))e.push([0,p(n,t)]);else if(/[0-9\-\+]/.test(n))e.push(d(n,t));else if(ce.test(n))e.push(u(n,t));else throw"Unrecognised character: \""+n+"\"!"}function g(e){for(var n=[],t=r(e);!a(t.next);)h(n,t.move(),t);return n}function x(e,n,a,s){for(var o=[{kind:0,body:e}];3===n[0]&&t(Ee,n[1]);){if("."===n[1])n=S(a,"symbol"),2!==n[0]&&8!==n[0]&&U(n),o.push({kind:1,body:{name:75,type:1,symbolName:n[1]}});else if("["===n[1]){var i=j(S(a,Fe),a,s);re(i)?(n=a.next,i=i[0]):n=S(a,"]"),(3!==n[0]||"]"!==n[1])&&U(n),o.push({kind:2,body:i})}else if("?."===n[1])n=S(a,"symbol"),2!==n[0]&&8!==n[0]&&U(n),o.push({kind:3,body:{name:75,type:1,symbolName:n[1]}});else if("?.["===n[1]){var i=j(S(a,Fe),a,s);re(i)?(n=a.next,i=i[0]):n=S(a,"]"),(3!==n[0]||"]"!==n[1])&&U(n),o.push({kind:4,body:i})}else if("!."===n[1])n=S(a,"symbol"),2!==n[0]&&8!==n[0]&&U(n),te.na=!0,o.push({kind:5,body:{name:75,type:1,symbolName:n[1]}});else if("!["===n[1]){var i=j(S(a,Fe),a,s);re(i)?(n=a.next,i=i[0]):n=S(a,"]"),(3!==n[0]||"]"!==n[1])&&U(n),te.na=!0,o.push({kind:6,body:i})}else break;n=S(a,"any")}return N(a),o}function v(e,n,t,a){return F({name:43,type:1,body:x(e,n,t,a)},t,a)}function w(e){return!re(e)&&"object"==typeof e&&!a(e)}function N(e){for(;~[6,10,7].indexOf(e.down()[0]););}function k(e,n,t){e.move();var a=e.next;if(!a)throw((t||"")+" Unexcepted EOF - '"+n+"' excepted").trim();return a}function O(e,n,t,a){return 6===e[0]?k(n,t,a):e}function S(e,n,t){for(var a,s;10===(a=O(k(e,n,t),e,n,t))[0]||7===a[0];)s=/\s*internal\:\s*(.+)/.exec(a[1]),s&&Function(s[1])();return a}function A(e,n){return re(n)?(e.body=n,e=[e]):e.body=[n],e}function E(e,n,t,a){var s,o,i=Se[n[1]];if(i)return s=F(S(t,Fe),t,a),o={name:i,type:1,body:[e,s],symbolName:n[1]},29===i?("string"==typeof s.symbolName&&re(s.body)&&(o.body[1]=s.body[0],s.body[0]=o),s):o}function C(e,t,a,s){var o,i;if(l=Ae[t[1]]){if(43===e.name)for(var l,m,r,d,p=e.body,u=p.length,y=0;y<u;y++)d=p[y],(3===d.kind||4===d.kind)&&Be.push(n(2,"The left-hand side of an assignment expression may not be an optional property access."));return m=F(S(a,Fe),a,s),r={name:l,type:1,body:[e,m],symbolName:t[1]},43===e.name||~s.outer.locals.indexOf(e.symbolName)||~(null!==(i=null===(o=s.outer.nonlocals)||void 0===o?void 0:o.indexOf(e.symbolName))&&void 0!==i?i:-1)||s.outer.locals.push(e.symbolName),r}}function F(e,n,t){var a=j(e,n,t);return t.insideExpression=!1,a}function j(e,a,s){var o,i;if(8===e[0]&&!t(je,e[1]))return Ce[e[1]](a,s);if(1===e[0]){var l=e[1];switch(b={name:51,type:1,body:l},e=S(a,Fe,"Number expression:"),3!==e[0]&&4!==e[0]&&U(e),e[1]){case"{":case")":case"}":case"]":case",":case";":return[b];case"(":case"?.(":Be.push(n(2,"Call on number will fail at runtime because number is not callable."));var m=P(S(a,")","Call expression:"),a,s);return I(m),i={name:"("===e[1]?41:42,type:1,body:[b],args:m},F(i,a,s);case".":case"[":case"!.":case"![":case"?.":case"?.[":{var r=e[1];if("."===r&&Be.push(n(1,"Please disambiguate normal member access expression when member access performed on number value by wrapping nubmer value in parenthezis")),t(["!.","![","?.","?.["],r)){var d="!."==r||"?."==r;Be.push(n(1,("!["==r||"!."==r?"Null assertive":"Optional")+((d?"":" computed")+" member access doesn't have any effect when performed on number value, assertion will be stripped."))),e[1]=d?".":"["}return v({name:6,type:1,body:[b]},e,a,s)}case"=>":if(54!==b.name)throw ue("Arrow functions shortcut cannot contain non-symbol parameter");i={name:0,type:1,params:[{name:b.symbolName,type:0}],locals:[],nonlocals:[]};var p={outer:i,filename:s.filename};return e=S(a,Fe),4!==e[0]&&"{"!==e[1]?A(i,A({name:64,type:0},F(e,a,p))):(i.body=$(a,p),i);case"::":o="Argument binding expression: ",e=S(a,"(",o),(4!==e[0]||"("!==e[1])&&U(e),e=S(a,")",o);var m=P(e,a,s);return{name:79,type:1,body:[b],args:m};case"!":return i=F(b,a,s),Be.push(n(1,"Null assertion expression doesn't have any effect on number value, null assertion operator will be stripped in output")),i;default:c=E(b,e,a,s),e[1]in Ae&&(Be.push(n(2,"Assignment on number will fail at runtime.")),c=C(b,e,a,s)),c||(Be.push(n(1,"Operator \""+e[1]+"\" is not supported")),c=b);var u=c&&c.body;return u&&c.symbolName&&re(u[1])&&(u[1]=u[1][0],c=[c]),c;}}else{if(9===e[0]){var y=e[1].split("..");return{name:60,type:1,body:y.map(function(e){return{name:53,type:1,body:e}})}}if(0===e[0])return{name:53,type:1,body:e[1]};if(w(e)||B(e)){s.insideExpression=!0;var c,b;if(b=w(e)?e:8===e[0]?Ce[e[1]](a):{name:54,type:1,symbolName:e[1]},e=S(a,Fe),8===e[0]&&"with"===e[1])return[b];if(3!==e[0]&&4!==e[0]&&0!==e[0]&&U(e),0===e[0])return{name:41,type:1,body:[b],args:[{name:53,type:1,body:e[1]}]};switch(e[1]){case"{":case")":case"}":case"]":case",":case";":return[b];case"(":case"?.(":var m=P(S(a,")","Call expression:"),a,s);return I(m),i={name:"("===e[1]?41:42,type:1,body:[b],args:m},F(i,a,s);case".":case"[":case"!.":case"![":case"?.":case"?.[":return v(b,e,a,s);case"=>":if(54!==b.name)throw ue("Arrow functions shortcut cannot contain non-symbol parameter");i={name:0,type:1,params:[{name:b.symbolName,type:0}],locals:[],nonlocals:[]};var p={outer:i,filename:s.filename};return e=S(a,Fe),4!==e[0]&&"{"!==e[1]?A(i,A({name:64,type:0},F(e,a,p))):(i.body=$(a,p),i);case"::":o="Argument binding expression: ",e=S(a,"(",o),(4!==e[0]||"("!==e[1])&&U(e),e=S(a,")",o);var m=P(e,a,s);return{name:79,type:1,body:[b],args:m};case"!":return i=F({name:85,type:1,body:[b]},a,s),te.na=!0,i;default:c=E(b,e,a,s)||C(b,e,a,s),c||(Be.push(n(1,"Operator \""+e[1]+"\" is not supported")),c=b);var u=c&&c.body;return u&&c.symbolName&&re(u[1])&&(u[1]=u[1][0],c=[c]),c;}}else if(7===e[0]||10===e[0]||6===e[0]);else if(4===e[0]&&~[";",")","}",","].indexOf(e[1]));else if(4===e[0]){if("{"===e[1])return{name:82,type:0,body:$(a,s)};}else if(3===e[0])switch(s.insideExpression=!0,e[1]){case"[":i={name:77,type:1,body:[]};for(var f=i.body;;){if(e=S(a,Fe),4===e[0]&&","===e[1]){f.push({name:48,type:1});continue}else if(3===e[0]&&"]"===e[1])break;if(c=F(e,a,s),re(c)?(e=a.next,c=c[0]):e=S(a,"]\" or \","),(4!==e[0]||","!==e[1])&&(3!==e[0]||"]"!==e[1])&&U(e),f.push(c),"]"===e[1])break}return c=j(i,a,s),c;}}return L}function B(e){return 2===e[0]||8===e[0]&&t(je,e[1])}function I(e){for(var n=e.length;n&&48===e[--n].name;)e.pop()}function U(e,n){throw void 0===n&&(n=""),ue("Unexcepted token '"+e[1]+"'"+n)}function P(e,n,t){var a,s=[];if(4!==e[0]||")"!==e[1])for(;4!==e[0]||")"!==e[1];){if(4===e[0]&&","===e[1]){s.push({name:48,type:1}),e=S(n,Fe);continue}else a=F(e,n,t);if(re(a)?(e=n.next,a=a[0]):e=S(n,")"),s.push(a),4!==e[0])U(e);else if(")"===e[1])break;else","!==e[1]&&U(e);e=S(n,Fe)}return s}function $(e,t){for(var a=S(e,"}"),s=[];4!==a[0]||"}"!==a[1];)try{var o=F(a,e,t);if(!re(o))o&&s.push(o),a=S(e,"}");else if(o[0]&&s.push(o[0]),a=e.next,4===a[0]&&"}"===a[1])break}catch(t){if(1===t)break;else if(0===t)break;else Be.push(n(3,String(t))),a=S(e,"}")}return s}function M(e,n){return F(S(e,Fe),e,n)}function G(e,n,t){i(),Ue=t;var a=r(e);ne={name:2,type:1,params:[{name:"u",type:3}],locals:[]},te={},ne.body=D(a,n,ne);var s={diagnostics:Be,output:ne,__used:te};return Ie.length?Promise.all(Ie).then(function(){return s}):s}function D(e,t,s){for(var o,i=[];!a(o=e.next);){try{var l=F(o,e,{outer:s,filename:t});l&&i.push(re(l)?l[0]:l)}catch(e){Be.push(n(e&&"string"!=typeof e&&!(e instanceof ue)?4:3,e))}e.move()}return i}function T(e,t,a){if(e+="",t+="",0>=t.length)return e.length+1;for(var s=0,o=0,i=a?1:t.length;0<=(o=e.indexOf(t,o));)++s,o+=i;return s}function Y(e){var n,t;return 1===e.type?e:{name:41,type:1,body:[{name:null!==(t=null===(n=e.outerBody)||void 0===n?void 0:n.name)&&void 0!==t?t:0,type:1,body:[e]}],args:[]}}function q(e){return t([0,2,1,3,59,81,82],e.name)}function z(e){return t([77,79,2,3,52,41,43,46,45,50,49,47,51,60,53,54,75,48,80],e.name)}function K(n,t){function a(){Pe&&(B+=" ")}function i(){Pe&&(B+="\n")}function m(){Pe&&(B+=t.sp)}function r(){t.sp=t.sp.slice(0,-4)}function d(){t.sp+="    "}function p(e){(ae.params||(ae.params=[])).push({name:e,type:3})}function u(){var e,n=B,t=2===F||3===F;return B="",d(),t&&d(),y(),t&&r(),r(),e=[n,B],B=e[0],n=e[1],n}function y(){k=0,N=O.length;for(var e=0;k<N;k++)76!==O[k].name&&(e++,m(),B+=K(O[k],t),(k+1<N||Pe)&&!q(O[k])&&(B+=";"),i());e||a()}function c(e){function n(){Pe&&(u+=" ")}for(var a=0,s=e.length,i="";a<s;a++){var l=e[a],m=l.body,r=l.kind;if(0===r)i+=K(m,t);else if(1===r)i+="."+K(m,t);else if(2===r)i+="["+K(m,t)+"]";else{if(3===r||4===r){var d=o(),u="(n("+d;return p(d),n(),u+="=",n(),u+=i+")",n(),u+="?",n(),u+="u",n(),u+=":",n(),e.splice(0,a,{kind:0,body:{name:75,type:1,symbolName:d}}),e[1].kind=3===r?1:2,""+u+c(e)+")"}return e.splice(0,a,{kind:0,body:{name:75,type:1,symbolName:"__na("+i+")"}}),e[1].kind=5===r?1:2,c(e)}}return i}function b(){a(),B+="__call([].slice,",a(),B+="arguments",(k||1!==N)&&(B+=",",a(),B+=-(N-k)),B+=")[0]"}var f,h,g,x,v,w,N,k,O,S,A,E,C,F,j,B="";switch(null!==t&&void 0!==t?t:t={},null!==(f=t.sp)&&void 0!==f?f:t.sp="",O=n.body,F=n.name){case 80:B+="arguments";case 76:break;case 59:for(var I,U=0,P=O.length;U<P;U++)I=O[U],B+=K(I,t),Pe&&!q(O[U])&&(B+=";"),U<P-1&&(i(),m());break;case 3:case 1:case 2:case 0:B+="function",1===F&&(B+="*"),n.symbolName?B+=" $"+n.symbolName:a(),B+="(";var $=u();v=n.params||(n.params=[]),N=v.length,k=0;for(var M=0<O.length||v.some(function(e){return!!e["default"]||1===e.type});k<N;k++){var G=v[k],D=G.name;if(1===G.type)break;if("string"==typeof D)B+=G.name=C=""+(3===G.type?"":"$")+(D||o());else throw"Destructing parameters are not supported yet";k+1<N&&1!==v[k+1].type&&(B+=",",a())}B+=")",a(),B+="{",d(),M&&i(),n.locals&&n.locals.length&&(m(),B+="var "+n.locals.map(function(e){return"$"+e}).join(","+(Pe?" ":""))+";",i()),(2===F||3===F)&&(!M&&i(),m(),d(),B+="return __async"+(3===F?"_gen":"")+"(function*",a(),B+="()",a(),B+="{",M&&i()),k=0,C="";for(var R,H=!1;k<N;k++){if(R=v[k],D=R.name,H)if("string"==typeof D){if(m(),B+=R.name=C=""+(3===R.type?"":"$")+(D||o()),R["default"]){var J=o();p(J),a(),B+="=",a(),B+="__nl("+J,a(),B+="=",b(),B+=")",a(),B+="?",a(),B+=K(R["default"],t),a(),B+=":",B+=J+")"}else a(),B+="=",b();B+=k+1<N?",":";",i()}else throw"Destructing parameters are not supported yet";1===R.type&&(H=!0,m(),B+="var $"+(D||o()),a(),B+="=",a(),B+="__call([].slice,",a(),B+="arguments",(k||1!==N)&&(B+=",",a(),B+=k,k+1<N&&(B+=",",a(),B+=-(N-k-1))),B+=")"+(k+1<N?",":";"),i(),H=!0),R["default"]&&!H&&(m(),B+=C||(C="string"==typeof R.name?R.name:K(R.name,t)),a(),B+="===",a(),B+="u",a(),B+="&&",a(),B+="("+C,a(),B+="=",a(),B+=K(Y(R["default"]),t)+");",i())}B+=$,r(),(2===F||3===F)&&(M&&m(),B+="},",a(),B+="this,",a(),B+="arguments)",Pe&&(B+=";"),i(),r(),!M&&m()),M&&m(),B+="}";break;case 46:B+=Pe?"false":"!1";break;case 45:B+=Pe?"true":"!0";break;case 48:B+="u";break;case 47:B+="null";break;case 49:B+="0/0";break;case 50:B+=Pe?"Infinity":"1/0";break;case 54:B+="$"+n.symbolName;break;case 75:B+=n.symbolName;break;case 51:B+=O;break;case 5:B+="__throw("+K(O[0],t)+")";break;case 53:S=T(O,"'")>=T(O,"\""),A=S?"\"":"'",E=S?"'":"\"",B+=""+A+O.replace("\\"+E,E).replace("\n","\\n")+A;break;case 55:C=o(),B+=K({name:41,type:1,body:[{name:null!==(g=null===(h=n.outerBody)||void 0===h?void 0:h.name)&&void 0!==g?g:0,type:1,params:[{name:C,type:0}],body:[{name:64,type:0,body:[O[0]]}]}],args:[O[1]]},Pe);break;case 41:for(B+=K(O[0],t),B+="(",w=n.args,N=w.length,k=0;k<N;k++){var Q=w[k];B+=K(Q,t),k+1<N&&(B+=",",a())}B+=")";break;case 6:for(B+="(",N=O.length,k=0;k<N;k++){var V=O[k];B+=K(Y(V),t),k+1<N&&(B+=",",a())}B+=")";break;case 64:B+="return "+K(Y(O[0]),t);break;case 60:var W=+O[0].body,s=+O[1].body;B+=W==s?"(function*(){})()":"(function*(){for(var i="+W+",e="+s+";i"+(W>s?">":"<")+"e;i"+(W>s?"--":"++")+")yield i})()";break;case 73:B+=O;break;case 13:B+=K(O[0],t),a(),B+="=",a();case 29:B+="Math.pow("+K(O[0],t)+",",a(),B+=K(O[1],t)+")";break;case 7:B+=K(O[0],t),a(),B+="=",a(),B+=K(Y(O[1]),t);break;case 8:case 9:case 10:case 11:case 12:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 65:case 66:case 67:case 68:case 69:case 70:B+=K(O[0],t),a(),B+=n.symbolName,a(),B+=K(Y(O[1]),t);break;case 44:B+="if",a(),B+="(",B+=K(Y(n.args),t),B+=")",a(),B+="{";var e=O.length;e&&i(),d(),y(),r(),e&&m(),B+="}",(n["else"]||n.elseif)&&(a(),B+="else",n.elseif?B+=" "+K(n.elseif,t):(a(),B+="{",e=(O=n["else"].body).length,e&&i(),d(),y(),r(),e&&m(),B+="}"));break;case 71:B+="yield",(j=3===n.outerBody.name)?(a(),B+="[1,",a()):B+=" ",B+=K(Y(O[0]),t),j&&(B+="]");break;case 72:B+="yield*",(j=3===n.outerBody.name)&&(a(),B+="[2,"),a(),B+=K(Y(O[0]),t),j&&(B+="]");break;case 74:B+="yield",(j=3===n.outerBody.name)?(a(),B+="[0,",a()):B+=" ",B+=K(Y(O[0]),t),j&&(B+="]");break;case 43:B+=c(O);break;case 77:B+="["+O.map(function(e){return K(Y(e),t)}).join(","+(Pe?" ":""))+"]";break;case 79:B+="__bind("+K(O[0],t)+",",a(),B+="u,",a(),B+=n.args.map(function(e){return K(Y(e),t)}).join(","+(Pe?" ":""))+")";break;case 57:j=K(O[0],t),B+="!"+(z(O[0])?j:"("+Y(j)+")");break;case 81:w=n.args,e=O.length;var X=w.map(function(e,n){var s=o();return p(s),n&&m(),B+=s,a(),B+="=",a(),B+=K(e,t)+";",i(),s});y(),Pe||(B+=";"),N=w.length;for(var k=0;k<N;k++){k&&i(),m();var Z=X[k];B+=K(w[k],t),a(),B+="=",a(),B+=Z+";"}break;case 82:B+="{",O.length&&i(),d(),y(),r(),O.length&&m(),B+="}",i();break;case 85:B+="__na("+K(Y(O[0]),t)+")";break;case 83:B+="new "+K(Y(O[0]),t);break;case L:{var ee=t.sp+"    ";B+="/*\n"+ee+"Cannot emit undefined, has something gone wrong?"+("\n"+ee+"Stack trace:\n"+(ee+(null===(x=Error().stack)||void 0===x?void 0:x.replace(/\n/g,"\n"+ee)))+"\n"+t.sp+"*/");break}case 84:console.log(n);default:B+="/*cannot emit node Nodes["+F+"]*/";}return l(B.toString()),B}function R(e,n){var t=void 0===n?{}:n,a=t.pretty,s=t.url,o=void 0===s?"":s;return Pe=void 0!==a&&a,K(ae=e,{url:o})}function H(e,n){return"(function(){var _=function(){},p=Promise,c=_.call,__bind=c.bind(_.bind),pr=__bind(p.resolve,p),__call=__bind(c,c),__apply=__bind(c,_.apply);function n(v){return v===null||v===void 0};function __async(f,t,a){return new p(function(r){var g=__apply(f,t,a),n=g.next;_();function _(p){var v=__call(n,g,p);v.done?r(v.value):pr(v.value).then(function(v){_(v)})}})};"+(n.contains?"function __contains(i,v){for(var _=i[Symbol.iterator](),n=__bind(_.next,_),t;!(t=n()).done;)if((t=t.value)===v||v!==v&&j!==t)return!0;return!1};":"")+(n.na?"function __na(v){if(n(v))throw TypeError(\"Null assertion\");return v};":"")+("return("+e+")()})()")}function J(e,t){function a(e){var a={diagnostics:e.diagnostics,output:"/*#EMPTY"+Math.random()+"*/"};try{a.output=H(R(e.output,t),e.__used)}catch(e){a.diagnostics.push(n(4,e))}return a}var s,o=G(g(e),t.url,null===(s=t.cache)||void 0===s||s);return o instanceof Promise?o.then(a):a(o)}var L,Q,V,W,X,Z,ee,ne,te,ae,se=a.call,oe=se.bind(a.bind),ie=oe(se,se),le=oe(se,a.apply),me=0,re=Array.isArray||function(e){return e instanceof Array},de={},pe="object"==typeof process&&"[object process]"==={}.toString.call(process),ue=SyntaxError,ye=s("do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof|include|fn|async|await|undefined|not|contains|__external|__external_var|nonlocal|keep").split("|"),ce=/^[$\w_][\d\w$_]*$/m,be=/[0-9.\-\+]/,fe=/^(?:[\-\+]?[0-9][_0-9]*)?(?:\.(\.[\-\+]?)?[0-9_]+)?$/m,he=/[(){};,]/m,ge=/^[<>\/*+\-?|&\^!%\.@:=\[\]~#]$/m,xe=/^`$/m,ve=/^'|"$/m,_e=/^[gmiyus]$/m,we=/\s/,Ne=["&&","**","||","??","==","!=","=>","<=",">=","..","+=","/=","&=","-=","++","--","*=","|=","//",">>","<<","?.","%=","^=","|>","@@","/*","::","!.","!["],ke=["?.[","?.(","??=","||=","&&=","**=",">>>","...",">>=","<<=","===","!=="],Oe=/^[^\s<>\/*+\-?|&\^!%\.@:=\[\]~(){};,"'#]$/m,Se={"+":24,"-":25,"*":26,"/":27,"%":28,"**":29,"&":30,"^":32,"|":33,"??":34,"&&":35,"||":37,"<<":38,">>":39,">>>":40,"::":79,">":70,">=":68,"<":69,"<=":67,"==":65,"===":66},Ae={"=":7,"+=":8,"-=":9,"*=":10,"/=":11,"%=":12,"**=":13,"&=":14,"^=":15,"|=":16,"??=":17,"&&=":18,"||=":19,"<<=":21,">>=":22,">>>=":23},Ee=[".","?.","!.","![","?.[","["],Ce={nonlocal:function(e,n){if(!n.outer.nonlocals)throw"Nonlocal statment: this statment cannot be used in top-level scope!";var t=S(e,"symbol");return 2!==t[0]&&U(t),n.outer.nonlocals.push(t[1]),n.outer.locals=n.outer.locals.filter(function(e){return e!==t[1]}),{name:76,type:1}},include:function(e,n){function t(e){var t=D(r(g(e)),o.href,n.outer);return l.body=t,t}var a=S(e,"string");0!==a[0]&&U(a);var s=S(e,";");if(4!==s[0]||";"!==s[1])throw"Include statment must be follewed by a semicolon!";var o=new URL(a[1],n.filename),i=m(o,Ue),l={name:59,type:1};return l.body="string"==typeof i?t(i):Ie[Ie.push(i.then(t))-1],l},if:function(e,n){var t=S(e,"(");(4!==t[0]||"("!==t[1])&&U(t);var a,s=F(t=S(e,Fe),e,n);re(s)?t=e.next:(t=S(e,")"),s=[s]),(4!==t[0]||")"!==t[1])&&U(t),t=S(e,"{"),a=4===t[0]&&"{"===t[1]?$(e,n):[F(t,e,n)];var o={name:44,type:0,body:a,args:s[0],else:L,elseif:L};try{t=S(e,"else")}catch(e){return o}if(8===t[0]&&"else"===t[1]){if(t=S(e,"if"),8===t[0]&&"if"===t[1]){var i=Ce["if"](e,n);return re(i)?(o.elseif=i[0],[o]):(o.elseif=i,o)}if(4===t[0]&&"{"===t[1])return o["else"]={name:78,type:0,body:$(e,n)},o;U(t)}else return[o]},true:function(){return{name:45,type:1}},false:function(){return{name:46,type:1}},undefined:function(){return{name:48,type:1}},null:function(){return{name:47,type:1}},NaN:function(){return{name:49,type:1}},Infinity:function(){return{name:50,type:1}},arguments:function(){return{name:80,type:1}},interface:function(e){var n=s("Interface statment:"),t=S(e,"symbol",n);2!==t[0]&&U(t),t=S(e,"{",n),(4!==t[0]||"{"!==t[1])&&U(t),U([8,"interface"])},import:function(e){U(e.next)},async:function(e,n){var t=S(e,"fn","Async(Generator?)Function statment:");return(8!==t[0]||"fn"!==t[1])&&U(t),Ce.fn(e,{filename:n.filename,outer:null},2)},not:function(e,n){return A({name:57,type:1},F(S(e,Fe),e,n))},__external_var:function(e){var n="External variable "+Fe+":",t=S(e,"(",n);(4!==t[0]||"("!==t[1])&&U(t),t=S(e,"string",n),0!==t[0]&&U(t);var a=t[1];return t=S(e,")",n),(4!==t[0]||")"!==t[1])&&U(t),{name:73,type:1,body:a}},__external:function(e){var n=s("External statment:"),t=S(e,"(",n);(4!==t[0]||"("!==t[1])&&U(t),t=S(e,"string",n),0!==t[0]&&U(t);var a=t[1];return t=S(e,")",n),(4!==t[0]||")"!==t[1])&&U(t),{name:73,type:0,body:a}},fn:function(e,n,t){void 0===t&&(t=0);var a=s("Function statment:"),o=[a,"Generator"+a,"Async"+a];o[3]="Async"+o[1];var i,l,m=o[t],r="",d=[],p=S(e,"symbol\" | \"(",m),u=!1;if(3===p[0]&&"*"===p[1])0===t?t=1:2==t&&(t=3),p=S(e,"symbol",m);else if(1===t||3===t)throw m+" Unexcepted token '"+p[1]+"' ('*' excepted)";2===p[0]&&(r=p[1],p=S(e,"(",m)),4!==p[0]&&"("!==p[1]&&U(p);for(var y={name:t,type:1,params:d,symbolName:r,locals:[],nonlocals:[]},c={outer:y,filename:n.filename};;){if(i=0,p=S(e,"symbol",m),4===p[0]&&","===p[1]){d.push({name:"",type:2});continue}if(3===p[0]&&"..."===p[1]){if(u)throw ue("Cannot append second rest parameter to "+(r?"function "+r:"anonymous function"));u=!0,i=1,p=S(e,"symbol",m)}if(2===p[0]){var b={name:p[1],type:i};if(d.push(b),p=S(e,",",m),3===p[0]&&"="===p[1]){var f=F(S(e,Fe,m),e,c);re(f)?(f=f[0],p=e.next):p=S(e,Fe,m),b["default"]=f}if(4===p[0]&&")"===p[1])break;else 4!==p[0]&&","!==p[1]&&U(p)}else if(4===p[0]&&","===p[1])d.push({name:"",type:i||2});else if(4===p[0]&&")"===p[1])break;else U(p)}for(l=d.length;l&&2===d[--l].type;)d.pop();return(p=S(e,"{",m),3===p[0]&&"=>"===p[1]&&(p=S(e,Fe,m),4!==p[0]&&"{"!==p[1]))?A(y,A({name:64,type:0},F(p,e,c))):(4!==p[0]&&"{"!==p[1]&&U(p),y.body=$(e,c),y)},class:function(e,a){var i=a.insideExpression?1:0,l={name:84,type:i,getters:[],settets:[],props:[],methods:[],privateGetters:[],privateSettets:[],privateMethods:[],privateProps:[],mixins:[]},m=s("Class expression:"),r=S(e,"{\" | \"symbol\" | \"extends",m);if(2===r[0]&&(l.symbolName=r[1],r=S(e,Fe,m)),8===r[0]&&"extends"===r[1]){var d=F(S(e,Fe,m),e,a);if(re(d)?(l["extends"]=d[0],r=e.next):(l["extends"]=d,r=S(e,"any",m)),8===r[0]&&"with"===r[1])for(;4!==r[0]||"{"!==r[1];){var p=F(S(e,Fe,m),e,a);re(p)?(p=p[0],r=e.next):r=S(e,"any",m),(4!==r[0]||","!==r[1]&&"{"!==r[1])&&U(r),l.mixins.push(p)}}if(i||l.symbolName||(Be.push(n(1,"Class statment doesn't have a name - a random name will be given during compilation")),l.symbolName=o()),4===r[0]&&"{"===r[1]){for(;"}"!==(r=S(e,"keyword\" | \"symbol\" | \"string",m))[1]&&4!==r[0];)if([2,0,8].indexOf(r[0])){var u=S(e,"=\" | \"symbol\" | \"(",m);if(8===r[0]&&2===u[0]&&t(["get","set","async"],r[1]));}}else U(r);return l},return:function(e,n){return A({name:64,type:0},F(S(e,Fe,"Return statment:"),e,n))},yield:function(e,n){var t=S(e,Fe,"Yield expression:"),a=3===t[0]&&"*"===t[1],s=a?M(e,n):F(t,e,n);return A({name:a?72:71,type:1,outerBody:n.outer},s)},await:function(e,t){0===t.outer.name&&Be.push(n(2,"Using await inside Sync Function Expression will fail at runtime")),1===t.outer.name&&Be.push(n(1,"Await is not intended to be used inside Generator Functions"));var a=s("Await expression:"),o=S(e,Fe,a);if(3!==o[0]||"."!==o[1])i=F(o,e,t);else if(o=S(e,"any\" | \"all\" | \"allSettled\" | \"race",a),2===o[0]&&/^(any|all(Settled)?|race)$/m.test(o[1])){var i=F(S(e,Fe,a),e,t),l={name:41,type:1,body:[{name:75,type:1,symbolName:"p."+o[1]}],args:[i]};re(i)?(l.args[0]=i[0],i=[l]):i=l}else U(o);return A({name:74,type:1,outerBody:t.outer},i)},this:function(){return{name:75,type:1,symbolName:"this"}},keep:function(e,a){var o=s("Keep statment:"),i=S(e,"(",o),l=[];if(4!==i[0]&&"("!==i[1]&&U(i),i=S(e,"symbol",o),4===i[0]||")"!==i[1])for(;4!==i[0]||")"!==i[1];){if(4===i[0]&&","===i[1]){i=S(e,Fe);continue}else{var m,r=8===i[0]&&t(["this","arguments"],i[1]),d=r?Ce[i[1]]():{name:54,type:1,symbolName:i[1]};r||2===i[0]||U(i),m=S(e,",\" | \")"+Ee.join("\" | \""),o),3===m[0]&&t(Ee,m[1])?d={name:43,type:1,body:x(d,i,e,a)}:(r&&Be.push(n(2,"Assignment to \""+i[0]+"\" will fail at runtime!")),i=m)}if(l.push(d),4!==i[0])U(i);else if(")"===i[1])break;else","!==i[1]&&U(i);i=S(e,"symbol")}i=S(e,"{"),4!==i[0]&&"{"!==i[1]&&U(i);var p=$(e,a);return{name:81,type:0,body:p,args:l}},new:function(e,n){var t,a=j(S(e,Fe),e,n);(t=re(a))&&(a=a[0]);for(var s={name:83,type:1,body:[a]},o=a.body,i=[],l=a;1===l.type&&re(o);)l=o[0].name?o[0]:o[0].body,i.push(l),o=l.body;for(var m,r=0,d=i.reverse().length;r<d;r++)if(m=i[r],41===m.name){var p=i[r+1]||a;return s.body[0]=m,p.body[0]=43===p.name?{body:s,kind:0}:s,a}return t?[s]:s},try:function(){return L}},Fe=s("expression"),je=["__external_var","this","arguments","null","NaN","undefined","Infinity","true","false"],Be=[],Ie=[],Ue=!0,Pe=!0;return e._emit=K,e.compileCode=J,e.default=function(e,n){var t=m("string"==typeof e?new URL(e):e);return n||(n={}),n.url||(n.url=e.toString()),"string"==typeof t?J(t,n):t.then(function(e){return J(e,n)})},e.emit=R,e.lex=g,e.parse=G,e.wrap=H,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
